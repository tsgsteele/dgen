library(reshape2)
library(dplyr)
source('~/Documents/R/CBECS/cbecs_water.R', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
rm(list=ls())
source('~/.active-rstudio-document', echo=TRUE)
View(epa1)
View(epa2)
View(epa1)
source('~/.active-rstudio-document', echo=TRUE)
View(epa1)
source('~/.active-rstudio-document', echo=TRUE)
source('~/.active-rstudio-document', echo=TRUE)
View(epa1)
View(epa1)
source('~/.active-rstudio-document', echo=TRUE)
View(m)
?count
count(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID)
source('~/.active-rstudio-document', echo=TRUE)
m$NAICS = substr(m$V_GHG_EMITTER_FACILITIES.PRIMARY_NAICS_CODE,1,2)
summarize(facility_count = count(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
s = group_by(m, NAICS) %>%
summarize(facility_count = count(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
rm(list=ls())
source('~/.active-rstudio-document', echo=TRUE)
View(m)
s = group_by(m, m$NAICS) %>%
summarize(facility_count = count(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID),vars=325)
?summarize
m$id = 1
View(m)
View(m)
s = group_by(m, NAICS) %>%
summarize(facility_count = sum(id))
View(s)
s = group_by(m, V_GHG_EMITTER_FACILITIES.PRIMARY_NAICS_CODE) %>%
summarize(facility_count = sum(id))
View(s)
View(m)
unique(m)
?unique
temp = unique(m)
View(temp)
unique(iris)
str(iris)
table(m)
as.data.frame(table(m))
length(unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
as.data.frame(table(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
length(unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID)
m = m[unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID),]
View(m)
source('~/.active-rstudio-document', echo=TRUE)
m = m[m$unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID),]
m$temp = unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID)
View(m)
source('~/.active-rstudio-document', echo=TRUE)
epa1 = read.csv('/Users/kmccabe/Documents/EPA FLIGHT - CO2 Data.csv')
epa2 = read.csv('/Users/kmccabe/Documents/EPA FLIGHT - Facility Info.csv')
epa1 = epa1[epa1$C_FUEL_LEVEL_INFORMATION.REPORTING_YEAR == 2014,]
m = merge(epa1, epa2, by = ('C_FUEL_LEVEL_INFORMATION.FACILITY_ID'))
m$NAICS = substr(m$V_GHG_EMITTER_FACILITIES.PRIMARY_NAICS_CODE,1,3)
m$id = 1
View(m)
m$temp = unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID)
p = unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID)
p = as.data.frame(p)
View(p)
View(p)
epa1 = read.csv('/Users/kmccabe/Documents/EPA FLIGHT - CO2 Data.csv')
epa2 = read.csv('/Users/kmccabe/Documents/EPA FLIGHT - Facility Info.csv')
epa1 = epa1[epa1$C_FUEL_LEVEL_INFORMATION.REPORTING_YEAR == 2014,]
m = merge(epa1, epa2, by = ('C_FUEL_LEVEL_INFORMATION.FACILITY_ID'))
m$NAICS = substr(m$V_GHG_EMITTER_FACILITIES.PRIMARY_NAICS_CODE,1,3)
m$id = 1
s = group_by(m, V_GHG_EMITTER_FACILITIES.PRIMARY_NAICS_CODE) %>%
summarize(facility_count = sum(id))
p = as.data.frame(unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
View(p)
p = as.data.frame(C_FUEL_LEVEL_INFORMATION.FACILITY_ID = unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
C_FUEL_LEVEL_INFORMATION.FACILITY_ID = as.data.frame(unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
rm(list=ls())
source('~/.active-rstudio-document', echo=TRUE)
m2 = merge(m,C_FUEL_LEVEL_INFORMATION.FACILITY_ID, by= ('C_FUEL_LEVEL_INFORMATION.FACILITY_ID'))
View(C_FUEL_LEVEL_INFORMATION.FACILITY_ID)
p = as.data.frame(unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
View(p)
names(p)[names(p)=="unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID)"] = "C_FUEL_LEVEL_INFORMATION.FACILITY_ID"
View(p)
m2 = merge(m,p, by= ('C_FUEL_LEVEL_INFORMATION.FACILITY_ID'))
View(m2)
m2 = merge(p,m, by= ('C_FUEL_LEVEL_INFORMATION.FACILITY_ID'))
View(m2)
p = as.data.frame(unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
names(p)[names(p)=="unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID)"] = "C_FUEL_LEVEL_INFORMATION.FACILITY_ID"
m2 = merge(p,m, by= ('C_FUEL_LEVEL_INFORMATION.FACILITY_ID'))
source('~/.active-rstudio-document', echo=TRUE)
rm(list=ls())
# p = as.data.frame(unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID))
# names(p)[names(p)=="unique(m$C_FUEL_LEVEL_INFORMATION.FACILITY_ID)"] = "C_FUEL_LEVEL_INFORMATION.FACILITY_ID"
#
# m2 = merge(p,m, by= ('C_FUEL_LEVEL_INFORMATION.FACILITY_ID'))
source('~/.active-rstudio-document', echo=TRUE)
View(s)
21/23
1/23
67/248
m$TOTAL_EMISSIONS = sum(m$C_FUEL_LEVEL_INFORMATION.TIER1_CO2_COMBUSTION_EMISSIONS,m$C_FUEL_LEVEL_INFORMATION.TIER2_CO2_COMBUSTION_EMISSIONS,m$C_FUEL_LEVEL_INFORMATION.TIER3_CO2_COMBUSTION_EMISSIONS)
View(m)
?sum
m$TOTAL_EMISSIONS = sum(m$C_FUEL_LEVEL_INFORMATION.TIER1_CO2_COMBUSTION_EMISSIONS,
m$TOTAL_EMISSIONS = sum(m$C_FUEL_LEVEL_INFORMATION.TIER1_CO2_COMBUSTION_EMISSIONS,
m$C_FUEL_LEVEL_INFORMATION.TIER3_CO2_COMBUSTION_EMISSIONS, na.rm = T))
m$C_FUEL_LEVEL_INFORMATION.TIER3_CO2_COMBUSTION_EMISSIONS, na.rm = TRUE))
rm(list=ls())
epa1 = read.csv('/Users/kmccabe/Documents/EPA FLIGHT - CO2 Data.csv')
epa2 = read.csv('/Users/kmccabe/Documents/EPA FLIGHT - Facility Info.csv')
epa1 = epa1[epa1$C_FUEL_LEVEL_INFORMATION.REPORTING_YEAR == 2014,]
m = merge(epa1, epa2, by = ('C_FUEL_LEVEL_INFORMATION.FACILITY_ID'))
m$NAICS = substr(m$V_GHG_EMITTER_FACILITIES.PRIMARY_NAICS_CODE,1,3)
m$id = 1
m$TOTAL_EMISSIONS = (sum(m$C_FUEL_LEVEL_INFORMATION.TIER1_CO2_COMBUSTION_EMISSIONS,
m$C_FUEL_LEVEL_INFORMATION.TIER2_CO2_COMBUSTION_EMISSIONS,
m$C_FUEL_LEVEL_INFORMATION.TIER3_CO2_COMBUSTION_EMISSIONS, na.rm = TRUE))
View(m)
?rowsums
?rowsum
View(m)
m$temp = rowsum(m,c(6,7,8))
m$temp = rowsum(m[,c(6,7,8)])
?colsum
?colsums
?columnsum
m$TOTAL_EMISSIONS = m$C_FUEL_LEVEL_INFORMATION.TIER1_CO2_COMBUSTION_EMISSIONS + m$C_FUEL_LEVEL_INFORMATION.TIER2_CO2_COMBUSTION_EMISSIONS + m$C_FUEL_LEVEL_INFORMATION.TIER3_CO2_COMBUSTION_EMISSIONS
View(m)
source('~/.active-rstudio-document', echo=TRUE)
View(m)
